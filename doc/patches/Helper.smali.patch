--- Helpers.smali	2019-03-27 07:17:12.403070342 +0800
+++ src/com.popcap.pvz_na.out/smali/com/popcap/pvz_na/Helpers.smali	2019-03-27 07:18:46.133064615 +0800
@@ -107,6 +107,129 @@
     goto :goto_0
 .end method
 
+.method public static deflateObb(Landroid/content/Context;Ljava/lang/String;)V
+    .registers 10
+    .param p0, "ctx"    # Landroid/content/Context;
+    .param p1, "obbname"    # Ljava/lang/String;
+
+    .prologue
+    .line 7
+    const-string/jumbo v6, ".obb"
+
+    invoke-virtual {p1, v6}, Ljava/lang/String;->endsWith(Ljava/lang/String;)Z
+
+    move-result v6
+
+    if-nez v6, :cond_a
+
+    .line 8
+    return-void
+
+    .line 9
+    :cond_a
+    new-instance v3, Ljava/io/File;
+
+    invoke-direct {v3, p1}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    .line 10
+    .local v3, "obb":Ljava/io/File;
+    invoke-virtual {v3}, Ljava/io/File;->exists()Z
+
+    move-result v6
+
+    if-nez v6, :cond_4a
+
+    .line 12
+    :try_start_15
+    new-instance v6, Ljava/io/File;
+
+    invoke-virtual {v3}, Ljava/io/File;->getParent()Ljava/lang/String;
+
+    move-result-object v7
+
+    invoke-direct {v6, v7}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v6}, Ljava/io/File;->mkdirs()Z
+
+    .line 13
+    invoke-virtual {v3}, Ljava/io/File;->createNewFile()Z
+
+    .line 14
+    invoke-virtual {p0}, Landroid/content/Context;->getAssets()Landroid/content/res/AssetManager;
+
+    move-result-object v6
+
+    invoke-virtual {v3}, Ljava/io/File;->getName()Ljava/lang/String;
+
+    move-result-object v7
+
+    invoke-virtual {v6, v7}, Landroid/content/res/AssetManager;->open(Ljava/lang/String;)Ljava/io/InputStream;
+
+    move-result-object v5
+
+    .line 15
+    .local v5, "stream":Ljava/io/InputStream;
+    new-instance v4, Ljava/io/FileOutputStream;
+
+    invoke-direct {v4, v3}, Ljava/io/FileOutputStream;-><init>(Ljava/io/File;)V
+
+    .line 17
+    .local v4, "outs":Ljava/io/FileOutputStream;
+    const/high16 v6, 0x100000
+
+    new-array v1, v6, [B
+
+    .line 18
+    .local v1, "content":[B
+    const/4 v0, 0x0
+
+    .line 19
+    .local v0, "cnt":I
+    :goto_3a
+    invoke-virtual {v5, v1}, Ljava/io/InputStream;->read([B)I
+
+    move-result v0
+
+    const/4 v6, -0x1
+
+    if-eq v0, v6, :cond_4b
+
+    .line 20
+    const/4 v6, 0x0
+
+    invoke-virtual {v4, v1, v6, v0}, Ljava/io/FileOutputStream;->write([BII)V
+
+    .line 21
+    invoke-virtual {v4}, Ljava/io/FileOutputStream;->flush()V
+
+    goto :goto_3a
+
+    .line 24
+    .end local v0    # "cnt":I
+    .end local v1    # "content":[B
+    .end local v4    # "outs":Ljava/io/FileOutputStream;
+    .end local v5    # "stream":Ljava/io/InputStream;
+    :catch_49
+    move-exception v2
+
+    .line 6
+    :cond_4a
+    :goto_4a
+    return-void
+
+    .line 23
+    .restart local v0    # "cnt":I
+    .restart local v1    # "content":[B
+    .restart local v4    # "outs":Ljava/io/FileOutputStream;
+    .restart local v5    # "stream":Ljava/io/InputStream;
+    :cond_4b
+    invoke-virtual {v4}, Ljava/io/FileOutputStream;->close()V
+    :try_end_4e
+    .catch Ljava/lang/Exception; {:try_start_15 .. :try_end_4e} :catch_49
+
+    goto :goto_4a
+.end method
+
 .method public static doesFileExist(Landroid/content/Context;Ljava/lang/String;JZ)Z
     .locals 4
     .param p0, "c"    # Landroid/content/Context;
@@ -122,6 +245,8 @@
 
     move-result-object v1
 
+    invoke-static {p0, v1}, Lcom/popcap/pvz_na/Helpers;->deflateObb(Landroid/content/Context;Ljava/lang/String;)V
+
     invoke-direct {v0, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V
 
     .line 243
